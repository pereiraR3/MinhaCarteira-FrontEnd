<app-page-header [title]="'CRM'" [title1]="['Leads']" [activeitem]="'Leads'"></app-page-header>
 
 <!-- Start::row-1 -->
  <div class="grid grid-cols-12 gap-x-6">
    <div class="xl:col-span-12 col-span-12">
        <div class="box">
            <div class="box-header flex items-center justify-between flex-wrap gap-4">
                <div class="box-title">
                    Leads<span class="badge bg-primary rounded ms-2 text-xs align-middle">28</span>
                </div>
                <div class="flex flex-wrap gap-2">
                    <button class="ti-btn ti-btn-primary ti-btn-sm" data-hs-overlay="#create-contact"><i
                            class="ri-add-line me-1 font-medium align-middle"></i>Create Lead</button>
                    <button class="ti-btn ti-btn-soft-success ti-btn-sm">Export As CSV</button>
                    <spk-dropdowns [Customclass]="'dropdown'" 
                    [class]="'ti-btn bg-light ti-btn-sm btn-wave waves-effect waves-light'" [title]="'Sort By'" [Icon]="true" [IconClass]="'ri-arrow-down-s-line align-middle ms-1 inline-block'"
                     [Menuclass]="'dropdown-menu'">
                            <li><a class="ti-dropdown-item" href="javascript:void(0);">Newest</a></li>
                            <li><a class="ti-dropdown-item" href="javascript:void(0);">Date Added</a>
                            </li>
                            <li><a class="ti-dropdown-item" href="javascript:void(0);">A - Z</a></li>
                    </spk-dropdowns>
                </div>
            </div>
            <div class="box-body p-0">
                <div class="table-responsive">
                    <spk-reusable-tables  [columns]="leadsColumn" tableClass="ti-custom-table ti-custom-table-head" (toggleSelectAll)="handleToggleSelectAll($event)"
                    [showCheckbox]="true" checkboxClass="text-center">
                    
                    @for (Lead of Leads; track $index) {
                            <tr
                                class="crm-contact leads-list border-b !border-defaultborder dark:!border-defaultborder/10">
                                <td class="leads-checkbox">
                                    <input class="form-check-input" type="checkbox" [checked]="allTasksChecked" [(ngModel)]="Lead.checked"
                                        id="checkboxNoLabel01" value="" aria-label="...">
                                </td>
                                <td>
                                    <div class="flex items-center gap-2">
                                        <div class="leading-none">
                                            <span class="avatar avatar-rounded avatar-sm">
                                                <img [src]="Lead.img" alt="">
                                            </span>
                                        </div>
                                        <div>
                                            <span class="block font-medium">{{Lead.name}}</span>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <div class="flex items-center gap-2">
                                        <div class="leading-none">
                                            <span class="avatar avatar-sm p-1 bg-light avatar-rounded">
                                                <img [src]="Lead.logo" alt="">
                                            </span>
                                        </div>
                                        <div>{{Lead.company}}</div>
                                    </div>
                                </td>
                                <td>
                                    <div>
                                        <span class="block mb-1"><i
                                                class="ri-mail-line me-2 align-middle text-[14px] text-textmuted dark:text-textmuted/50 inline-block"></i>{{Lead.Email}}</span>
                                    </div>
                                </td>
                                <td>
                                    <span
                                        class="badge bg-{{Lead.bg}}/10 text-{{Lead.bg}}">{{Lead.Status}}</span>
                                </td>
                                <td>
                                    <div>
                                        <span class="block"><i
                                                class="ri-phone-line me-2 align-middle text-[14px] text-textmuted dark:text-textmuted/50"></i>{{Lead.phnNo}}</span>
                                    </div>
                                </td>
                                <td>
                                    {{Lead.Source}}
                                </td>
                                <td>
                                    <div class="flex items-center gap-2">
                                        <div class="leading-none">
                                            <span class="avatar avatar-rounded avatar-sm">
                                                <img [src]="Lead.src1" alt="Avatar">
                                            </span>
                                        </div>
                                        <div>
                                            <span class="block font-medium">{{Lead.owner}}</span>
                                        </div>
                                    </div>
                                </td>
                                <td class="font-medium">
                                    {{Lead.contacted}}
                                </td>
                                <td>
                                    <div class="btn-list">
                                        <a class="ti-btn ti-btn-sm ti-btn-soft-primary ti-btn-icon !mb-0"><i
                                                class="ri-eye-line"></i></a>
                                        <button class="ti-btn ti-btn-sm ti-btn-soft-info ti-btn-icon !mb-0"><i
                                                class="ri-pencil-line"></i></button>
                                        <button (click)="click(Lead.id)"
                                            class="ti-btn ti-btn-sm ti-btn-soft-primary2 ti-btn-icon contact-delete !mb-0"><i
                                                class="ri-delete-bin-line"></i></button>
                                    </div>
                                </td>
                            </tr>
                        }
                        </spk-reusable-tables>
                </div>
            </div>
            <div class="box-footer">
                <div class="flex items-center flex-wrap">
                    <div>
                        Showing 9 Entries <i class="bi bi-arrow-right ms-2 font-medium"></i>
                    </div>
                    <div class="ms-auto">
                        <nav aria-label="Page navigation" class="pagination-style-4">
                            <ul class="ti-pagination mb-0 flex-wrap">
                                <li class="page-item disabled">
                                    <a class="page-link" href="javascript:void(0);">
                                        Prev
                                    </a>
                                </li>
                                <li class="page-item "><a class="page-link active"
                                        href="javascript:void(0);">1</a></li>
                                <li class="page-item"><a class="page-link"
                                        href="javascript:void(0);">2</a></li>
                                <li class="page-item">
                                    <a class="page-link !text-primary" href="javascript:void(0);">
                                        next
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--End::row-1 -->

<!-- Start:: Create Contact -->
<div id="create-contact" class="hs-overlay hidden ti-modal">
    <div
        class="hs-overlay-open:mt-7 ti-modal-box mt-0 ease-out h-[calc(100%-3.5rem)] min-h-[calc(100%-3.5rem)] flex items-center">
        <div class="max-h-full w-full overflow-hidden ti-modal-content">
            <div class="ti-modal-header">
                <h6 class="modal-title text-[1rem] font-semiboldmodal-title" id="staticBackdropLabel3">
                    Create Lead
                </h6>
                <button type="button" class="hs-dropdown-toggle ti-modal-close-btn"
                    data-hs-overlay="#create-contact">
                    <span class="sr-only">Close</span>
                    <svg class="w-3.5 h-3.5" width="8" height="8" viewBox="0 0 8 8" fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M0.258206 1.00652C0.351976 0.912791 0.479126 0.860131 0.611706 0.860131C0.744296 0.860131 0.871447 0.912791 0.965207 1.00652L3.61171 3.65302L6.25822 1.00652C6.30432 0.958771 6.35952 0.920671 6.42052 0.894471C6.48152 0.868271 6.54712 0.854471 6.61352 0.853901C6.67992 0.853321 6.74572 0.865971 6.80722 0.891111C6.86862 0.916251 6.92442 0.953381 6.97142 1.00032C7.01832 1.04727 7.05552 1.1031 7.08062 1.16454C7.10572 1.22599 7.11842 1.29183 7.11782 1.35822C7.11722 1.42461 7.10342 1.49022 7.07722 1.55122C7.05102 1.61222 7.01292 1.6674 6.96522 1.71352L4.31871 4.36002L6.96522 7.00648C7.05632 7.10078 7.10672 7.22708 7.10552 7.35818C7.10442 7.48928 7.05182 7.61468 6.95912 7.70738C6.86642 7.80018 6.74102 7.85268 6.60992 7.85388C6.47882 7.85498 6.35252 7.80458 6.25822 7.71348L3.61171 5.06702L0.965207 7.71348C0.870907 7.80458 0.744606 7.85498 0.613506 7.85388C0.482406 7.85268 0.357007 7.80018 0.264297 7.70738C0.171597 7.61468 0.119017 7.48928 0.117877 7.35818C0.116737 7.22708 0.167126 7.10078 0.258206 7.00648L2.90471 4.36002L0.258206 1.71352C0.164476 1.61976 0.111816 1.4926 0.111816 1.36002C0.111816 1.22744 0.164476 1.10028 0.258206 1.00652Z"
                            fill="currentColor" />
                    </svg>
                </button>
            </div>
            <div class="ti-modal-body overflow-y-auto">
                <div class="grid grid-cols-12 gap-x-6 gap-y-3">
                    <div class="xl:col-span-12 col-span-12">
                        <div class="mb-0 text-center">
                            <span class="avatar avatar-xxl avatar-rounded">
                                <img src="./assets/images/faces/9.jpg" alt="" id="profile-img">
                                <span class="badge rounded-full bg-primary avatar-badge">
                                    <input type="file" name="photo"
                                        class="absolute w-full h-full opacity-0" id="profile-change">
                                    <i class="fe fe-camera"></i>
                                </span>
                            </span>
                        </div>
                    </div>
                    <div class="xl:col-span-12 col-span-12">
                        <label for="contact-name" class="form-label">Contact Name</label>
                        <input type="text" class="form-control" id="contact-name"
                            placeholder="Contact Name">
                    </div>
                    <div class="xl:col-span-12 col-span-12">
                        <label for="contact-mail" class="form-label">Email</label>
                        <input type="email" class="form-control" id="contact-mail"
                            placeholder="Enter Email">
                    </div>
                    <div class="xl:col-span-12 col-span-12">
                        <label for="contact-phone" class="form-label">Phone No</label>
                        <input type="tel" class="form-control" id="contact-phone"
                            placeholder="Enter Phone Number">
                    </div>
                    <div class="xl:col-span-12 col-span-12">
                        <label for="company-name" class="form-label">Company Name</label>
                        <input type="text" class="form-control" id="company-name"
                            placeholder="Company Name">
                    </div>
                    <div class="xl:col-span-12 col-span-12">
                        <label class="form-label">Lead Status</label>
                        <spk-ng-select 
                        [options]="Leadsstatus"
                        [selectClass]="'rounded'"
                        [clearable]="true"
                        [multi]="true"
                        [searchable]="true"
                        [placeholder]="'Select Status'"
                        [additionalProperties]="{}"
                        (change)="handleSelectChange($event)">
                        </spk-ng-select>
                    </div>
                    <div class="xl:col-span-12 col-span-12">
                        <label class="form-label">Lead Source</label>
                        <spk-ng-select 
                        [options]="Leadssource"
                        [selectClass]="'rounded'"
                        [clearable]="true"
                        [multi]="true"
                        [searchable]="true"
                        [placeholder]="'Social Media'"
                        [additionalProperties]="{}"
                        (change)="handleSelectChange($event)">
                        </spk-ng-select>
                    </div>
                    <div class="xl:col-span-12 col-span-12">
                        <label class="form-label">Tags</label>
                        <spk-ng-select 
                        [options]="Tags"
                        [selectClass]="'rounded multiple-tags'"
                        [clearable]="true"
                        [multiple]="true"
                        [searchable]="true"
                        [placeholder]="'Select'"
                        [additionalProperties]="{}"
                        (change)="handleSelectChange($event)">
                        </spk-ng-select>
                    </div>
                </div>
            </div>
            <div class="ti-modal-footer">
                <button type="button" class="hs-dropdown-toggle ti-btn ti-btn-soft-secondary"
                    data-hs-overlay="#create-contact">
                    Cancel
                </button>
                <a class="ti-btn ti-btn-primary" href="javascript:void(0);">
                    Create Delta
                </a>
            </div>
        </div>
    </div>
</div>
<!-- End:: Create Contact -->
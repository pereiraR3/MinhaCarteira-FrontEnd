<app-page-header [title]="'Dashboards'" [title1]="['School']" [activeitem]="'School'"></app-page-header>
<!-- Start::Row-1 -->
<div class="grid xxl:grid-cols-5 lg:grid-cols-3 grid-cols-1 gap-x-6">
    @for (card of cards; track $index) {
    <div class="col">
        <div class="box school-card">
            <div class="box-body flex gap-2 justify-between">
              <div>
                <span class="block mb-1">{{ card.title }}</span>
                <h5 class="mb-0 font-semibold">{{ card.value }}</h5>
              </div>
              <div>
                <span [ngClass]="card.iconColor" [innerHTML]="getSanitizedIcon(card.icon)"></span>
              </div>
            </div>
          </div>
    </div>
}
</div>
<!-- End::Row-1 -->

<!-- Start::Row-2 -->
<div class="grid grid-cols-12 gap-x-6">
    <div class="xl:col-span-7 col-span-12">
        <div class="box">
            <div class="box-header justify-between">
                <div class="box-title">
                    Attendance Report
                </div>
                <spk-dropdowns [Customclass]="'dropdown'" [title]="'Sort By'" [Icon]="true" [IconClass]="'ri-arrow-down-s-line align-middle ms-1 inline-block'" [class]="'ti-btn ti-btn-sm bg-light ti-dropdown-toggle hs-dropdown-toggle'" 
                [Menuclass]="'dropdown-menu'"  >
                        <li><a class="ti-dropdown-item" href="javascript:void(0);">This Week</a></li>
                        <li><a class="ti-dropdown-item" href="javascript:void(0);">Last Week</a></li>
                        <li><a class="ti-dropdown-item" href="javascript:void(0);">This Month</a></li>
                </spk-dropdowns>
            </div>
            <div class="box-body">
                <div class="flex gap-[3rem] mb-3 items-center justify-center flex-wrap flex-xl-nowrap">
                    <div class="flex items-center gap-2 me-5">
                        <div class="leading-none">
                            <span class="avatar avatar-md avatar-rounded bg-primarytint2color">
                                <i class="ri-id-card-line text-[1rem]"></i>
                            </span>
                        </div>
                        <div>
                            <div class="font-medium text-[14px]">3,875</div>
                            <div class="text-textmuted  dark:text-textmuted/50">Staff</div>
                        </div>
                    </div>
                    <div class="flex items-center gap-2 me-5">
                        <div class="leading-none">
                            <span class="avatar avatar-md avatar-rounded bg-secondary">
                                <i class="ri-graduation-cap-line text-[1rem]"></i>
                            </span>
                        </div>
                        <div>
                            <div class="font-medium text-[14px]">25,875</div>
                            <div class="text-textmuted  dark:text-textmuted/50">Students</div>
                        </div>
                    </div>
                    <div class="flex items-center gap-2 me-4">
                        <div class="leading-none">
                            <span class="avatar avatar-md avatar-rounded bg-primary">
                                <i class="ri-presentation-line text-[1rem]"></i>
                            </span>
                        </div>
                        <div>
                            <div class="font-medium text-[14px]">1,687</div>
                            <div class="text-textmuted  dark:text-textmuted/50">Teachers</div>
                        </div>
                    </div>
                    
                </div>
                <div id="attendance">
                    <spk-apexcharts [chartOptions]="chartOptions"></spk-apexcharts>
                </div>
            </div>
        </div>
    </div>
    <div class="xl:col-span-5 col-span-12">
        <div class="box overflow-hidden">
            <div class="box-header justify-between">
                <div class="box-title">
                    Teachers List
                </div>
                <a href="javascript:void(0);" class="ti-btn ti-btn-sm bg-light text-defaulttextcolor"> View All<i class="ti ti-arrow-narrow-right ms-1"></i> </a>
            </div>
            <div class="box-body p-0">
                <div class="table-responsive">
                    <spk-reusable-tables [columns]="teacherColumns" tableClass="ti-custom-table ti-custom-table-head"
                    [showCheckbox]="false">
                    @for(teacher of teacherslist;track $index){
                            <tr class="border-b !border-defaultborder dark:!border-defaultborder/10">
                                <td>
                                    <div class="flex items-center gap-4">
                                        <img [src]="teacher.src" alt="" class="avatar avatar-sm">
                                        <a href="javascript:void(0);" class="font-medium">{{teacher.name}}</a>
                                    </div>
                                </td>
                                <td><span class="text-xs text-textmuted  dark:text-textmuted/50 block">{{teacher.qualification}}</span></td>
                                <td><div class="text-{{teacher.text}} font-medium">{{teacher.subject}}</div></td>
                                <td>
                                    <button aria-label="button" type="button" class="ti-btn bg-light ti-btn-icon ti-btn-sm table-icon !m-0"><i class="ri-arrow-right-s-line"></i></button>
                                </td>
                            </tr>
                        }
                        </spk-reusable-tables>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End::Row-2 -->

<!-- Start::Row-3 -->
<div class="grid grid-cols-12 gap-x-6">
    <div class="xxl:col-span-4 col-span-12">
        <div class="box overflow-hidden">
            <div class="box-header justify-between !pb-0">
                <div class="box-title">
                    Notice Board
                </div>
                <a href="javascript:void(0);" class="text-xs text-textmuted  dark:text-textmuted/50 ti-btn ti-btn-sm bg-light"> View All<i class="ti ti-arrow-narrow-right ms-1"></i> </a>
            </div>
            <div class="box-body p-0">
                <div class="table-responsive">
                    <spk-reusable-tables  tableClass="ti-custom-table ti-custom-table-head"
                    [showCheckbox]="false">
                    @for(notice of noticeslist;track $index){
                            <tr class="">
                                <td class="!whitespace-normal">
                                    <div class="flex items-center gap-4">
                                        <div class="svg-{{notice.bg}}" [innerHTML]="sanitizeIcon(notice.svg)">
                                            <svg class="avatar-md avatar bg-primary/10 svg-primary  p-2" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M232,112a24,24,0,0,0-24-24H136V79a32.06,32.06,0,0,0,24-31c0-28-26.44-45.91-27.56-46.66a8,8,0,0,0-8.88,0C122.44,2.09,96,20,96,48a32.06,32.06,0,0,0,24,31v9H48a24,24,0,0,0-24,24v23.33a40.84,40.84,0,0,0,8,24.24V200a24,24,0,0,0,24,24H200a24,24,0,0,0,24-24V159.57a40.84,40.84,0,0,0,8-24.24ZM112,48c0-13.57,10-24.46,16-29.79,6,5.33,16,16.22,16,29.79a16,16,0,0,1-32,0ZM40,112a8,8,0,0,1,8-8H208a8,8,0,0,1,8,8v23.33c0,13.25-10.46,24.31-23.32,24.66A24,24,0,0,1,168,136a8,8,0,0,0-16,0,24,24,0,0,1-48,0,8,8,0,0,0-16,0,24,24,0,0,1-24.68,24C50.46,159.64,40,148.58,40,135.33Zm160,96H56a8,8,0,0,1-8-8V172.56A38.77,38.77,0,0,0,62.88,176a39.69,39.69,0,0,0,29-11.31A40.36,40.36,0,0,0,96,160a40,40,0,0,0,64,0,40.36,40.36,0,0,0,4.13,4.67A39.67,39.67,0,0,0,192,176c.38,0,.76,0,1.14,0A38.77,38.77,0,0,0,208,172.56V200A8,8,0,0,1,200,208Z"></path></svg>
                                        </div>
                                        <div class="flex-auto">
                                            <div>
                                                <div class="font-medium block my-1 text-[14px]">{{notice.title}}
                                                    @if(notice.title1){
                                                        <span class="text-primarytint2color">{{notice.title1}}</span>
                                                    }
                                                </div>
                                                <p class="text-textmuted  dark:text-textmuted/50 text-xs mb-0">{{notice.description}}</p>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <div class="badge bg-light text-dark">{{notice.date}}</div>
                                </td>
                            </tr>
                        }
                        </spk-reusable-tables>
                </div>
            </div>
        </div>
    </div>
    <div class="xxl:col-span-4 col-span-12">
        <div class="box">
            <div class="box-header justify-between">
                <div class="box-title">
                    Students Overview
                </div>
                <spk-dropdowns [Customclass]="'dropdown'" [title]="'Sort By'" [Icon]="true" [IconClass]="'ri-arrow-down-s-line align-middle ms-1 inline-block'" [class]="'ti-btn ti-btn-sm bg-light text-textmuted  dark:text-textmuted/50 ti-dropdown-toggle hs-dropdown-toggle'" 
                [Menuclass]="'dropdown-menu'"  >
                        <li><a class="ti-dropdown-item" href="javascript:void(0);">This Week</a></li>
                         <li><a class="ti-dropdown-item" href="javascript:void(0);">Last Week</a></li>
                         <li><a class="ti-dropdown-item" href="javascript:void(0);">This Month</a></li>
                </spk-dropdowns>
            </div>
            <div class="box-body pb-1">
                <div id="students-applicants">
                    <spk-apexcharts [chartOptions]="chartOptions1"></spk-apexcharts>
                </div>
            </div>
            <div class="box-footer p-0">
                <div class="grid grid-cols-12 gap-x-6 mt-0">
                    <div class="col-span-6 border-end border-inline-end-dashed text-center p-4">
                        <p class="mb-1 font-medium">Boys</p>
                        <h5 class="text-primary font-medium">12.34K</h5>
                    </div>
                    <div class="col-span-6 text-center p-4">
                        <p class="mb-1 font-medium">Girls</p>
                        <h5 class="text-primarytint1color  font-medium">10.19K</h5>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="xxl:col-span-4 col-span-12">
        <div class="box">
            <div class="box-header justify-between">
                <div class="box-title">
                    Activity
                </div>
                <a href="javascript:void(0);" class="ti-btn ti-btn-sm bg-light text-textmuted  dark:text-textmuted/50"> View All<i class="ti ti-arrow-narrow-right ms-1"></i> </a>
            </div>
            <div class="box-body">
                <ul class="list-none school-activity-list">
                    <li>
                        <div>
                            <h6 class="mb-0 text-[13px]">Mr. Thomas Brown<span class="text-[11px] text-textmuted  dark:text-textmuted/50 float-end">02:30PM</span></h6>
                            <span class="block text-[13px] text-textmuted  dark:text-textmuted/50 font-normal">Liked a post from <span class="badge bg-secondary/10 text-secondary">Ms. Sarah Parker</span> about the upcoming school event</span>
                        </div>
                    </li>
                    <li>
                        <div>
                            <h6 class="mb-0 text-[13px]">Mr. John Doe<span class="text-[11px] text-textmuted  dark:text-textmuted/50 float-end">12:47PM</span></h6>
                            <span class="block text-[13px] text-textmuted  dark:text-textmuted/50 font-normal">Updated class schedule</span>
                        </div>
                    </li>
                    <li>
                        <div>
                            <h6 class="mb-0 text-[13px]">Ms. Jane Smith<span class="text-[11px] text-textmuted  dark:text-textmuted/50 float-end">10:22AM</span></h6>
                            <span class="block text-[13px] text-textmuted  dark:text-textmuted/50 mb-1 font-normal">Posted a <span class="text-primarytint3color  text-[14px] font-medium">new announcement</span></span>
                            <div class="p-2 rounded-sm bg-light text-[13px]">
                                Reminder: Parent-Teacher meeting on Friday at 3 PM 📅 
                            </div>
                        </div>
                    </li>
                    <li>
                        <div>
                            <h6 class="mb-0 text-[13px]">Mrs. Emily Davis<span class="text-[11px] text-textmuted  dark:text-textmuted/50 float-end">11:30AM</span></h6>
                            <span class="block text-[13px] text-textmuted  dark:text-textmuted/50 font-normal">Commented on a student's project - <span class="font-medium text-success">"Excellent Work"</span></span>
                        </div>
                    </li>
                    <li>
                        <div>
                            <h6 class="mb-0 text-[13px]">Alice Johnson<span class="text-[11px] text-textmuted  dark:text-textmuted/50 float-end">11:45AM</span></h6>
                            <span class="block text-[13px] text-textmuted  dark:text-textmuted/50 font-normal">Submitted a report - <span class="font-medium text-success text-[14px]">"Science Project"</span></span>
                        </div>
                    </li>
                    <li class="mb-2">
                        <div>
                            <h6 class="mb-0 text-[13px]">Mr. Bob Anderson<span class="text-[11px] text-textmuted  dark:text-textmuted/50 float-end">10:54AM</span></h6>
                            <span class="block text-[13px] text-textmuted  dark:text-textmuted/50 font-normal">Reviewed a submission from <span class="badge bg-secondary/10 text-secondary">Jane Smith</span></span>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- End::Row-3 -->

<!-- Start::Row-4 -->
<div class="grid grid-cols-12 gap-x-6">
    <div class="xl:col-span-8 col-span-12">
        <div class="box">
            <div class="box-header justify-between">
                <div class="box-title">
                    Star Students
                </div>
                <div class="flex items-center gap-2">
                    <div class="flex flex-wrap gap-2">
                        <div>
                            <input class="form-control form-control-sm" type="text" placeholder="Search Here" aria-label=".form-control-sm example">
                        </div>
                        <spk-dropdowns [Customclass]="'dropdown'" [title]="'Sort By'" [class]="'ti-btn bg-primary text-white ti-btn-sm ti-dropdown-toggle hs-dropdown-toggle !m-0'" [Icon]="true" [IconClass]="'ri-arrow-down-s-line align-middle ms-1 inline-block'" 
                        [Menuclass]="'dropdown-menu'"  >
                                <li><a class="ti-dropdown-item" href="javascript:void(0);">New</a></li>
                                <li><a class="ti-dropdown-item" href="javascript:void(0);">Popular</a></li>
                                <li><a class="ti-dropdown-item" href="javascript:void(0);">Relevant</a></li>
                        </spk-dropdowns>
                    </div>
                </div>
            </div>
            <div class="box-body p-0 pt-2">
                <div class="table-responsive">
                    <spk-reusable-tables [columns]="studentColumns" tableClass="ti-custom-table ti-custom-table-head"
                    [showCheckbox]="false">
                    @for(student of studenslist;track $index){
                            <tr class="border-b !border-defaultborder dark:!border-defaultborder/10">
                                <td class="">{{student.sno}}</td>
                                <td class="">{{student.id}}</td>
                                <td class="">
                                    <div class="flex items-center">
                                        <a href="javascript:void(0);" class="avatar avatar-xs avatar-rounded me-2">
                                            <img [src]="student.src" alt="img">
                                        </a>
                                        <a href="javascript:void(0);">{{student.name}}</a>
                                    </div>
                                </td>
                                <td class="">{{student.class}}</td>
                                <td class="">{{student.section}}</td>
                                <td class="">{{student.percent}}</td>
                                <td class=""> {{student.cgpa}}</td>
                                <td class="">
                                    <span class="text-{{student.bg}} font-medium">{{student.status}}</span>
                                </td>
                                <td class="">
                                    <spk-dropdowns [Customclass]="'dropdown d-inline-block'"  [class]="'tx-inverse ti-dropdown-toggle hs-dropdown-toggle !p-0'" [Icon]="true" [IconClass]="'bi bi-three-dots'" 
                                    [Menuclass]="'dropdown-menu'"  >
                                            <li><a href="javascript:void(0);" class="ti-dropdown-item">Action</a></li>
                                            <li><a href="javascript:void(0);" class="ti-dropdown-item">Another Action</a></li>
                                            <li><a href="javascript:void(0);" class="ti-dropdown-item">Something Else Here</a></li>
                                    </spk-dropdowns>
                                </td>
                            </tr>
                        }
                        </spk-reusable-tables>
                </div>
            </div>
            <div class="box-footer">
                <div class="flex items-center flex-wrap bg-light p-4 py-2 rounded-md my-1">
                    <div> Showing 5 Entries <i class="bi bi-arrow-right ms-2 font-medium"></i> </div>
                    <div class="ms-auto py-2">
                        <nav aria-label="" class="">
                            <ul class="ti-pagination mb-0 !p-0 justify-end float-end">
                                <li class="page-item disabled"> <a
                                        class="page-link px-3 py-[0.375rem] !text-[1rem] bg-white dark:bg-bodybg !border-e-0 !rounded-tr-none !rounded-br-none">Previous</a>
                                </li>
                                <li class="page-item"><a
                                        class="page-link px-3 py-[0.375rem] !text-[1rem] bg-white dark:bg-bodybg !rounded-none !border-e-0"
                                        href="javascript:void(0);">1</a></li>
                                <li class="page-item " aria-current="page"> <a
                                        class="page-link active px-3 py-[0.375rem] !text-[1rem] bg-white dark:bg-bodybg !rounded-none !border-e-0"
                                        href="javascript:void(0);">2</a> </li>
                                <li class="page-item"> <a
                                        class="page-link px-3 py-[0.375rem] !text-[1rem] bg-white dark:bg-bodybg !rounded-tl-none !rounded-bl-none !border-s-0"
                                        href="javascript:void(0);">Next</a> </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="xl:col-span-4 col-span-12">
        <div class="box overflow-hidden">
            <div class="box-header justify-between">
                <div class="box-title">
                    Exam Results
                </div>
                <a href="javascript:void(0);" class="ti-btn ti-btn-sm bg-light text-textmuted  dark:text-textmuted/50"> View All<i class="ti ti-arrow-narrow-right ms-1"></i> </a>
            </div>
            <div class="box-body p-0">  
                <div class="table-responsive">
                    <spk-reusable-tables [columns]="resultColumns" tableClass="ti-custom-table ti-custom-table-head"
                    [showCheckbox]="false">
                    @for(result of resultslist;track $index){
                            <tr class="border-b !border-defaultborder dark:!border-defaultborder/10">
                                <td>{{result.id}}</td>
                                <td>
                                    <div class="flex items-center gap-2">
                                        <div>
                                            <span class="avatar avatar-sm">
                                                <img [src]="result.src" alt="img">
                                            </span>
                                        </div>
                                        <div>
                                            <span class="block font-semibold leading-none mb-1">{{result.name}}</span>
                                            <span class="text-[13px] text-textmuted  dark:text-textmuted/50">{{result.subject}}</span>
                                        </div>
                                    </div>
                                </td>
                                <td>{{result.subject}}</td>
                                <td class="text-{{result.scoreBg}}">{{result.score}}</td>
                            </tr>
                        }
                        </spk-reusable-tables>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End::Row-4 -->